import{B as i}from"./chunk-BaseElement-CopzcQ-j.js";import{H as s}from"./chunk-HTMLUpdateUtility-Hp59CDcg.js";import{t as c}from"./chunk-custom-element-BhZVzxrc.js";import"./chunk-lit-element-B04JoW0t.js";import"./chunk-WithApiClient-mq4vOvoR.js";import"./chunk-index-CKJCYK2x.js";import"./chunk-firstFocusableElement-BqnhZP5g.js";var h=Object.getOwnPropertyDescriptor,p=(e,t,d,n)=>{for(var o=n>1?void 0:n?h(t,d):t,l=e.length-1,r;l>=0;l--)(r=e[l])&&(o=r(o)||o);return o};let a=class extends i{constructor(){super(),this.$htmlUpdateUtility=new s(this),this.handleEventBelowFold=this.handleEventBelowFold.bind(this)}connectedCallback(){super.connectedCallback(),document.addEventListener("update-below-fold",e=>this.handleEventBelowFold(e))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("update-below-fold",e=>this.handleEventBelowFold(e))}handleEventBelowFold(e){this.$htmlUpdateUtility.fetchAndReplaceSections({renderRoot:document.getElementById("main"),sectionIds:[this.dataset.sectionId],baseUrl:e.detail.newProductUrl,params:{variant:e.detail.targetVariantId||""},withCache:!0}).catch(t=>{t instanceof Error?console.error("Error during section replacement:",t):console.warn("An unexpected error occurred:",t)})}};a=p([c("below-the-fold-listener")],a);
