import{B as c}from"./chunk-BaseElement-CopzcQ-j.js";import{L as u}from"./chunk-LiveRegionUtility-tvV1eypT.js";import{t as p}from"./chunk-custom-element-BhZVzxrc.js";import"./chunk-lit-element-B04JoW0t.js";import{e as h}from"./chunk-query-Cgxy6PDT.js";import{r as m}from"./chunk-query-all-DYFTEN8Z.js";import"./chunk-aria-live-region-context-DAmBJh4s.js";import"./chunk-create-context-89xeped_.js";import"./chunk-base-CShCMygk.js";var b=Object.defineProperty,v=Object.getOwnPropertyDescriptor,o=(e,s,a,n)=>{for(var i=n>1?void 0:n?v(s,a):s,t=e.length-1,l;t>=0;t--)(l=e[t])&&(i=(n?l(s,a,i):l(i))||i);return n&&i&&b(s,a,i),i};let r=class extends c{constructor(){super(...arguments),this.$liveRegionUtility=new u(this),this.searchTerm=""}connectedCallback(){super.connectedCallback(),this.announceResultsCount=this.announceResultsCount.bind(this),this.handleEmptySearchResults=this.handleEmptySearchResults.bind(this),this.showHideAirlines=this.showHideAirlines.bind(this),this.searchInput.addEventListener("input",this.onType.bind(this)),this.resetButton.addEventListener("click",this.onReset.bind(this))}onType(){const e=this.searchInput.value.toLowerCase();this.searchTerm=e,e.length>0?this.showHideAirlines(e):(this.handleEmptySearchResults(!1),this.airlines.forEach(s=>{s.classList.remove("hidden"),s.classList.remove("bg-t-brand-secondary"),s.classList.add("odd:bg-t-brand-secondary")}))}showHideAirlines(e){let s=!0,a=0,n=!1;this.airlines.forEach(t=>{var d;const l=((d=t.getAttribute("data-airline"))==null?void 0:d.toLowerCase())||"";t.classList.remove("odd:bg-t-brand-secondary"),t.classList.remove("bg-t-brand-secondary"),l.indexOf(e)>-1?(s=!1,a++,n?n=!1:(t.classList.add("bg-t-brand-secondary"),n=!0),t.classList.remove("hidden")):t.classList.add("hidden")}),this.handleEmptySearchResults(s);const i=window.strings.airline_modal.found_results.replace("[count]",a.toString());this.announceResultsCount(i)}handleEmptySearchResults(e){this.noAirlines.innerText=window.strings.airline_modal.no_results.replace("[term]",`"${this.searchTerm}"`),this.noAirlines.classList[e?"remove":"add"]("hidden"),this.airLineTable.classList[e?"add":"remove"]("hidden")}announceResultsCount(e){this.$liveRegionUtility.announce({message:e})}onReset(){this.searchInput.value="",this.airlines.forEach(e=>{e.classList.remove("hidden"),e.classList.remove("bg-t-brand-secondary"),e.classList.add("odd:bg-t-brand-secondary")}),this.handleEmptySearchResults(!1),this.announceResultsCount(window.strings.airline_modal.no_results.replace("[term]",`"${this.searchTerm}"`)),this.searchTerm=""}disconnectedCallback(){super.disconnectedCallback(),this.searchInput.removeEventListener("input",this.onType),this.resetButton.removeEventListener("click",this.onReset)}};o([h("#airline-search")],r.prototype,"searchInput",2);o([h("table")],r.prototype,"airLineTable",2);o([h("[data-no-airlines]")],r.prototype,"noAirlines",2);o([m("[data-airline]")],r.prototype,"airlines",2);o([h('[type="reset"]')],r.prototype,"resetButton",2);r=o([p("airline-search")],r);
