import{a as p}from"./chunk-BaseElement-CopzcQ-j.js";import{h as g}from"./chunk-task-B4U91f5K.js";import{d as m}from"./chunk-index-CKJCYK2x.js";import{a as u,E as c,x as a}from"./chunk-lit-element-B04JoW0t.js";import{t as d}from"./chunk-custom-element-BhZVzxrc.js";import{n as f}from"./chunk-property-Bc0RexEQ.js";import{o as v}from"./chunk-unsafe-html-fDgEVXYA.js";import"./chunk-directive-C_Rw-dL6.js";const S=":host{box-sizing:content-box!important;display:inline-flex;height:1em;width:1em;font-size:var(--icon-size, inherit)}";var w=Object.defineProperty,C=Object.getOwnPropertyDescriptor,h=(r,t,o,n)=>{for(var s=n>1?void 0:n?C(t,o):t,i=r.length-1,l;i>=0;i--)(l=r[i])&&(s=(n?l(t,o,s):l(s))||s);return n&&s&&w(t,o,s),s};const P=Date.now();let e=class extends p{constructor(){super(),this.loadSpriteTask=new g(this,{task:async()=>{if(e.svgSpriteCache)return e.svgSpriteCache;const r=this.svgSpritePath;if(!r)return c;if(e.loadingCartPromise)return await e.loadingCartPromise.promise;e.loadingCartPromise=m();try{const t=await fetch(r);if(!t.ok)throw new Error("Network response was not ok");const o=await t.text(),i=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;return i.style.display="none",e.svgSpriteCache=i.outerHTML,e.loadingCartPromise&&(e.loadingCartPromise.resolve(),e.loadingCartPromise=null),e.svgSpriteCache}catch(t){return e.loadingCartPromise&&(e.loadingCartPromise.reject(),e.loadingCartPromise=null),console.error("Error fetching SVG sprite:",t),t}}}),this.metaEl=document.head.querySelector(e.metaPathSel)}connectedCallback(){var r;super.connectedCallback(),(r=window.Shopify)!=null&&r.designMode&&this.loadSpriteTask.run()}get runningDevServer(){return window.location.hostname==="localhost"||window.location.hostname.includes("127.0.0")||window.location.hostname.includes("0.0.0")}get svgSpritePath(){var r;return this.runningDevServer?`/assets/icons.svg?cache=${P}`:(r=this.metaEl)==null?void 0:r.dataset.svgSpritePath}get useHref(){return`${this.svgSpritePath}#${this.src}`}generateSVGMarkup(r){return a`
      <svg
        class="block h-full w-full"
        aria-label=${this.ariaLabel||`Icon for ${this.src}`}
      >
        <use crossorigin="anonymous" href=${r}></use>
      </svg>
    `}render(){var r;return this.src===void 0||this.src===null||this.src===""?a`${c}`:(r=window.Shopify)!=null&&r.designMode?a`
        ${this.loadSpriteTask.render({complete:()=>!e.svgSpriteCache||typeof e.svgSpriteCache!="string"?c:a`
              ${v(e.svgSpriteCache)}
              ${this.src&&this.generateSVGMarkup(`#${this.src}`)}
            `})}
      `:this.generateSVGMarkup(this.useHref)}};e.loadingCartPromise=null;e.svgSpriteCache=null;e.styles=[u(S)];e.metaPathSel="meta[data-svg-sprite-path]";h([f({type:String})],e.prototype,"src",2);e=h([d("svg-icon")],e);
