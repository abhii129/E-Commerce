import{B as l}from"./chunk-BaseElement-CopzcQ-j.js";import{t as u}from"./chunk-custom-element-BhZVzxrc.js";import"./chunk-lit-element-B04JoW0t.js";import{e as h}from"./chunk-query-Cgxy6PDT.js";import{r as v}from"./chunk-query-all-DYFTEN8Z.js";import"./chunk-base-CShCMygk.js";var T=Object.defineProperty,g=Object.getOwnPropertyDescriptor,r=(e,t,c,o)=>{for(var s=o>1?void 0:o?g(t,c):t,a=e.length-1,n;a>=0;a--)(n=e[a])&&(s=(o?n(t,c,s):n(s))||s);return o&&s&&T(t,c,s),s};const w=300;let i=class extends l{constructor(){super(),this.swapTimeout=0,this.clearTimeout=this.clearTimeout.bind(this),this.onSwatchAction=this.onSwatchAction.bind(this),this.swapImages=this.swapImages.bind(this)}swapImages(e){const t=e.target;this.swatches.forEach(m=>{var p,d;if(m===t){(p=m.parentElement)==null||p.classList.add("is-selected");return}(d=m.parentElement)==null||d.classList.remove("is-selected")});const c=t.dataset.hoverPrice,o=t.dataset.image,s=t.dataset.imageSrcset,a=t.dataset.hoverImage,n=t.dataset.hoverImageSrcset;this.productTileLink.href=t.href??this.productTileLink.href,this.productTileImage.src=o??this.productTileImage.src,this.productTileImage.srcset=s??this.productTileImage.srcset,this.productTileHoverImage.src=a??this.productTileHoverImage.src,this.productTileHoverImage.srcset=n??this.productTileHoverImage.srcset,this.dynamicHoverPrice.textContent=c??this.dynamicHoverPrice.textContent}onSwatchAction(e){clearTimeout(this.swapTimeout),this.swapTimeout=window.setTimeout(()=>{this.swapImages(e)},w)}clearTimeout(){clearTimeout(this.swapTimeout)}connectedCallback(){super.connectedCallback(),this.swatches.forEach(e=>{e.addEventListener("mouseenter",this.onSwatchAction),e.addEventListener("focus",this.onSwatchAction),e.addEventListener("mouseleave",this.clearTimeout),e.addEventListener("blur",this.clearTimeout)})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.swapTimeout),this.swatches.forEach(e=>{e.removeEventListener("mouseenter",this.onSwatchAction),e.removeEventListener("focus",this.onSwatchAction)})}};r([v(".js-swatch")],i.prototype,"swatches",2);r([h(".js-dynamic-hover-price")],i.prototype,"dynamicHoverPrice",2);r([h(".js-product-tile-link")],i.prototype,"productTileLink",2);r([h(".js-product-tile-image")],i.prototype,"productTileImage",2);r([h(".js-product-tile-hover-image")],i.prototype,"productTileHoverImage",2);i=r([u("product-tile")],i);
